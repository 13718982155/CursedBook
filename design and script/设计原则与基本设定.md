# 基本原则

## 1.游戏地图

1.游戏地图的图片资源采取类似于魔塔的风格，其中地图格大小为50/*50像素，互动物体图像大小为45/*45像素，房间的大小及房间布局应借鉴以撒的结合之风格。

## 2.战斗机制

战斗机制采用当玩家完成一次行动后且全部怪物均处于行动完成状态时系统给予一次暂停等待玩家下一次行动的方式，其中玩家进行基本行动的所需时间长度设定为1，敌人进行某项活动所需的时间以此为基准值进行设计。

## 3.战斗方式

战斗方式为玩家拥有6个通用槽可以用来装载在战斗中想要使用的武器（即普攻）、物品（伤害、恢复或特殊道具）和技能，玩家还拥有1个治疗品专用槽用来装载常用恢复品，在战斗中通过锁定怪物并点击通用槽的方法选择想要进行的活动进行战斗。

## 4.其他

游戏内各物体风格应保持一致并与剧情基调相符。

## 5.战斗流程循环
（概念：1.瞬时活动：选择执行时添加到时间轴读取点的活动 2.耗时活动:：执行后添加到时间轴的（时间轴读取点+活动完成所需时间）的位置 3.静止状态：当玩家或敌人处于刚完成上一个【耗时活动】时，我们便称其处于静止状态 4.暂停：当主角与处于激活状态的所有怪物都处于静止状态时，系统将给予一次暂停，在暂停中敌人不会有任何新活动产生，且时间轴处于暂停状态，一旦玩家执行【耗时活动】，暂停将立即取消）
 （时间轴：控制所有活动的判定与结算，时间轴记录的是活动的完成时间。当时间轴处于运行状态时读取点不断向右移动。）
 


战斗流程（战斗流程只负责将相应活动添加至时间轴和控制时间轴的状态，具体结算由时间轴进行）循环：

1.给予暂停：当战斗开始之际，系统将给予一次暂停，将时间轴改为暂停状态，其余暂停遵循【战斗循环】发出的指令

2.瞬时活动选择（一）：在暂停中，玩家可将【瞬发活动】添加至时间轴读取点而不打破暂停状态

3.耗时活动选择：玩家选择接下来想要进行的【耗时活动】添加至时间轴{耗时活动一经选定中途不可取消或更改}选择后立即将时间轴转为运行状态

4.等待活动完成：追踪玩家选择的【耗时活动】，决定【战斗循环】跳转至下一步前等待时间轴的时间{比如由于玩家选择了“移动”，而玩家的移动耗时为1，那么本次等待时间轴的时间便应该是：1}

5.静止状态判定及瞬时活动选择（三）：玩家只要不选择下一个【耗时活动】就将处于此状态度，此时仍可选择【瞬时活动】添加至时间轴读取点，此状态下时间轴仍为运行状态。在此状态下进行是否满足【给予暂停】的判定。——>若满足：则跳转至1/若不满足：则保持此状态继续进行判定或当玩家选择【耗时活动】时跳转至3

----------------------------------
（于1.30弃置的旧战斗流程循环：

1. 玩家选择开始：玩家选择想在本回合进行的数个【瞬发活动】和一个【耗时活动】
2. 玩家选择结束:玩家已选择在本回合内想进行的活动（其中【瞬发活动】在点击时便立即结算{比如吃药和使用某些特殊物品和特殊技能}）
3. 回合长度计算：根据玩家选择的【耗时活动】确认本次的【玩家回合】有多长{比如由于玩家选择了“移动”，而玩家的移动耗时为1，那么本次的玩家回合长度便为1}
4. 回合间判定：判定在这一个玩家回合内发生了哪些事{比如若本回合玩家回合长度为1，而根据系统记录，再经过0.5时间长度怪物A的攻击即将生效，0.7时间长度后玩家的咒语将吟唱完毕，那么便在本回合中先判定怪物是否击中了玩家并进行结算，然后再判定，并在一切判定结算后执行玩家活动（此处即为移动）}
5. 敌人选择阶段：由AI控制的敌人选择想在下一回合进行的瞬发和耗时活动——>跳转至1
）

----------------------------------
## 以下设计原则上均应遵守以上基本原则

-----------------------------------
# 基本设定
## 玩家拥有的属性（技能与武器不包含在内）

1. * 【HP】：生命值
	* 效果：大于零以保证主角存活
	* 可成长性：Y
	* 单位：点
	* 范围：大于零
	* 基准值：100

2. * 【X系熟练度】：对于X系武器的掌握度
	* 效果：决定主角使用X系武器的威力
	* 可成长性：Y
	* 单位：级
	* 范围：0-5
	* 基准值：1

3. * 【MP】：魔法值
	* 效果：主角释放技能时需要消耗的资源
	* 可成长性：Y
	* 单位：点
	* 范围：大于零
	* 基准值：5

4. * 【速度】：主角执行各项活动的速度，以主角完成一项活动所需的时间的形式表现
	* 效果：决定主角行动的速度，
	* 可成长性：N（暂定）
	* 单位：无（例：移动：所需时间：1，攻击：所需时间：2）
	* 范围：非负数
	* 基准值：1

5. * 【护甲】：主角对物理伤害的抵抗程度
	* 效果：决定主角对物理伤害的抵抗程度，“最终受到的物理伤害=减免前物理伤害-护甲值”
	* 可成长性：Y
	* 单位：点
	* 范围：任意整数值
	* 基准值：0

6. * 【魔抗】：主角对魔法伤害的抵抗程度
	* 效果：决定主角对魔法伤害的抵抗程度，“最终受到的魔法伤害=减免前”
	* 可成长性：Y
	* 单位：点
	* 范围：任意整数值
	* 基准值：0

“熟练度系统”：人物本身不设攻击力，攻击的威力由武器本身攻击力和熟练度共同决定，其中“未减免前伤害=武器攻击力*熟练度补正值”，熟练度初始为0或1，0级表示暂时不能使用这种武器，1级时补正值为100%，以后每提升一级补正值提升5%，在到达3级时会解锁该系武器专有技能，到达5级时会额外奖励5%的补正（即满熟练度时有125%的补正值）。熟练度通过【奇遇】或【训练营】进行升级。（武器熟练度也能影响使用该武器所占用的时间长度）

## 敌人拥有的属性(名称及编号略去)
1. 【HP】:具体同上
2. 【行动速度】：敌人具体执行某项活动所需的时间。具体用法见上述原则五。
3. 【护甲】：具体效果同上。
4. 【魔抗】：具体效果同上。
5. 【技能列表】：向玩家展示该敌人拥有的所有行动类型。
6. 【行动倾向】：进行各种行动的倾向，如：总是/偶尔/从不（涉及AI设计，暂不细说）
7. 【抗性列表】：怪物对各种特殊效果的抗性，如：免疫击退。

1.

## 装备拥有的属性（名称及编号略去）
### I. 武器
1. 【武器类型】：武器属于拳、刀剑、长枪、长弓、魔杖中的哪种。
2. 【攻击力】：武器的攻击力（正整数），判断武器强度的第一要素
3. 【攻击范围】：每种武器拥有不同的攻击范围
4. 【伤害类型】：以两个总和为1的百分比的形式呈现（例：重剑：物理100%/魔法0%；火焰剑：物理50%/魔法50% 魔杖：物理0%/魔法100%）,攻击力会以该比例进行分配，分别参与后续的物理伤害结算和魔法伤害结算。
5. 【属性附加】：武器对各项玩家属性的影响和对武器本身攻击力、伤害类型的影响情况。（例：魔法攻击力+3，即在武器攻击力按比分配完成后在魔法伤害部分额外加三）
6. 【特殊效果】：(与3的区别在于3为一些通用属性的加成，而4为一些为武器设计的独特效果)(例：击退：在用该武器攻击时可击退敌人)

### II.防具
1. 【装配部位】：该防具的装备部位
2. 【护甲】：防具能给主角提供的护甲值
3. 【魔抗】：防具能给主角提供的魔抗值
4. 【属性附加】：描述同上
5. 【特殊效果】：描述如上（例：守护：当受到致死攻击时保留1点生命值，并在该玩家回合内免疫一切伤害，该效果每10时间长度仅能触发一次）

## 物品拥有的属性（名称及编号略去）

对物品的描述应涉及以下几个方面：

1. 【是否可被拖入治疗品专用槽】：Y/N
2. 【是否可被拖入通用槽】：Y/N
3. 【通用效果】：仅涉及改变数值的普遍效果（例：HP恢复：10）
4. 【特殊效果】：需要专门进行函数和动画设计的特殊效果
5. 【活动类型所属】：瞬发活动/耗时活动
6. 【消耗性】：Y/N
7. 【物品内置CD】：N/Y,为X个时间长度

##地格拥有的属性
###地格分类：

1.【基础地格】：可直接出现在地图中的地格，可做为附加地格的依附物。（普通地板、墙体、尖刺地板等）

2.【附加地格】：包括玩家角色、敌人等需依附于基础地格出现于地图中的元素。

基础地格拥有的属性：

* 可通过性：Y/N（暂不涉及高级通过性）
* 对依附的附加地格施加的效果：（伤害、中毒等）
* 可交互性：Y/N
* 交互方式：相邻点击/通过 等

##可收集资源及保存相关

1.【灵魂碎片】
* 描述：不知哪个可怜的闯入者残留的破碎的灵魂，仔细聆听还能听到细细的哀嚎
  
* 用途：玩家死亡后不会清零的货币，可用于在四维空间中老人处购买各种能力提升和特殊物品，也可在地图中随机出现的【灵魂行者（稀有）】（暂定）处消费。

2.【骷髅币】

* 描述：有着骷髅印花的金币，好像是这个奇怪地方的硬通货

* 用途：玩家死亡后会清零的货币，可用于在地图中【商人】处购买物品和武器，在【训练场】处消费以升级武器熟练度或在【奇遇】中使用。

玩家死亡时的资源保存规则：所有的灵魂碎片都将保留，所有的骷髅币都将清空，所有处于装备中的装备将保留，其余一切物品清空。（可能一些关键物品除外）


## 涉及的公式
1. 一次成功的攻击判定最终造成的伤害=最终造成的物理伤害+最终造成的魔法伤害
2. 最终造成的物理伤害=未减免前物理伤害-护甲值
3. 未减免前物理伤害=（武器物理攻击力分配值+属性附加造成的物理攻击力改变值）*熟练度补正值
4. 最终造成的魔法伤害=未减免前魔法伤害-魔抗值
5. 未减免前魔法伤害=（武器魔法攻击力分配值+属性附加造成的魔法攻击力改变值）*熟练度补正值
6. （一些拥有【特殊效果】的武器可能不完全适用该公式）